[{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(admin)\\admin\\committee\\[id]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(admin)\\admin\\committee\\add\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(admin)\\admin\\committee\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(admin)\\admin\\complaints\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":52,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":52,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport {\r\n    ArrowLeft,\r\n    ShieldAlert,\r\n    MessageSquare,\r\n    CheckCircle2,\r\n    Clock,\r\n    AlertTriangle\r\n} from \"lucide-react\";\r\nimport { complaintAPI } from \"@/lib/api\";\r\nimport { Complaint } from \"@/types\";\r\nimport { Button } from \"@/components/ui/Button\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/Card\";\r\nimport { getStatusColor, formatRelativeTime } from \"@/lib/utils\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport default function AdminComplaintDetailPage() {\r\n    const params = useParams();\r\n    const router = useRouter();\r\n    const [complaint, setComplaint] = useState<Complaint | null>(null);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (params.id) {\r\n            fetchComplaint(params.id as string);\r\n        }\r\n    }, [params.id]);\r\n\r\n    const fetchComplaint = async (id: string) => {\r\n        try {\r\n            const response = await complaintAPI.getComplaintById(id);\r\n            if (response.data.success) {\r\n                setComplaint(response.data.data.complaint);\r\n            }\r\n        } catch {\r\n            // console.error(\"Failed to fetch complaint:\", error);\r\n            toast.error(\"Failed to load complaint details\");\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleStatusUpdate = async (newStatus: string) => {\r\n        if (!complaint) return;\r\n        try {\r\n            await complaintAPI.updateStatus(complaint._id, newStatus, \"Status updated via Admin Console\");\r\n            toast.success(`Status updated to ${newStatus}`);\r\n            fetchComplaint(complaint._id); // Refresh\r\n        } catch (error) {\r\n            toast.error(\"Failed to update status\");\r\n        }\r\n    };\r\n\r\n    const handleRevealIdentity = async () => {\r\n        // Mock implementation for now - fully implemented in backend\r\n        toast.info(\"This action requires higher level authorization confirmation (Demo Mode)\");\r\n    };\r\n\r\n    if (isLoading) return <div className=\"p-8 text-center text-gray-500\">Loading details...</div>;\r\n    if (!complaint) return <div className=\"p-8 text-center text-gray-500\">Complaint not found</div>;\r\n\r\n    return (\r\n        <div className=\"max-w-4xl mx-auto space-y-6\">\r\n            <Button variant=\"ghost\" className=\"mb-4\" onClick={() => router.back()}>\r\n                <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n                Back to Complaints\r\n            </Button>\r\n\r\n            {/* Header Section */}\r\n            <div className=\"flex justify-between items-start\">\r\n                <div>\r\n                    <h1 className=\"text-2xl font-bold text-gray-900\">{complaint.title}</h1>\r\n                    <div className=\"flex items-center gap-3 mt-2\">\r\n                        <span className=\"text-sm text-gray-500\">ID: {complaint.trackingId}</span>\r\n                        <span className=\"text-gray-300\">•</span>\r\n                        <span className=\"text-sm text-gray-500 capitalize\">{complaint.category.replace(\"-\", \" \")}</span>\r\n                        <span className=\"text-gray-300\">•</span>\r\n                        <span className=\"text-sm text-gray-500\">{formatRelativeTime(complaint.createdAt)}</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                    <Button variant=\"outline\" onClick={() => router.push(`/chat/${complaint.trackingId}`)}>\r\n                        <MessageSquare className=\"w-4 h-4 mr-2\" />\r\n                        Chat with Student\r\n                    </Button>\r\n                    {/* Only show Reveal Identity for Admins (controlled by API mostly, but UI hint here) */}\r\n                    <Button variant=\"destructive\" onClick={handleRevealIdentity}>\r\n                        <ShieldAlert className=\"w-4 h-4 mr-2\" />\r\n                        Reveal Identity\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Main Content Grid */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n\r\n                {/* Left Column: Description & Details */}\r\n                <div className=\"md:col-span-2 space-y-6\">\r\n                    <Card>\r\n                        <CardContent className=\"pt-6\">\r\n                            <h3 className=\"text-sm font-semibold text-gray-900 mb-2\">Description</h3>\r\n                            <p className=\"text-gray-600 whitespace-pre-wrap leading-relaxed\">\r\n                                {complaint.description}\r\n                            </p>\r\n                        </CardContent>\r\n                    </Card>\r\n\r\n                    {/* Timeline / Activity Log (Placeholder) */}\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle className=\"text-base\">Activity Log</CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <div className=\"space-y-4\">\r\n                                {complaint.statusHistory?.map((history: { status: string; changedAt: string }, index: number) => (\r\n                                    <div key={index} className=\"flex gap-3\">\r\n                                        <div className=\"w-2 h-2 rounded-full bg-blue-500 mt-2 flex-shrink-0\" />\r\n                                        <div>\r\n                                            <p className=\"text-sm font-medium text-gray-900\">\r\n                                                Status changed to <span className=\"capitalize\">{history.status}</span>\r\n                                            </p>\r\n                                            <p className=\"text-xs text-gray-500\">{formatRelativeTime(history.changedAt)}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                </div>\r\n\r\n                {/* Right Column: Actions & Meta */}\r\n                <div className=\"space-y-6\">\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle className=\"text-base\">Status Management</CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent className=\"space-y-3\">\r\n                            <div className=\"p-3 bg-gray-50 rounded-lg border border-gray-100 mb-4\">\r\n                                <span className=\"text-xs text-gray-500 uppercase font-bold tracking-wider block mb-1\">Current Status</span>\r\n                                <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium border ${getStatusColor(complaint.status)}`}>\r\n                                    {complaint.status}\r\n                                </span>\r\n                            </div>\r\n\r\n                            <label className=\"text-sm font-medium text-gray-700 block\">Update Status</label>\r\n                            <div className=\"grid grid-cols-1 gap-2\">\r\n                                <Button\r\n                                    size=\"sm\"\r\n                                    variant={complaint.status === \"in-progress\" ? \"default\" : \"outline\"}\r\n                                    onClick={() => handleStatusUpdate(\"in-progress\")}\r\n                                    className=\"justify-start\"\r\n                                >\r\n                                    <Clock className=\"w-4 h-4 mr-2 text-blue-500\" />\r\n                                    Mark In Progress\r\n                                </Button>\r\n                                <Button\r\n                                    size=\"sm\"\r\n                                    variant={complaint.status === \"resolved\" ? \"default\" : \"outline\"}\r\n                                    onClick={() => handleStatusUpdate(\"resolved\")}\r\n                                    className=\"justify-start\"\r\n                                >\r\n                                    <CheckCircle2 className=\"w-4 h-4 mr-2 text-green-500\" />\r\n                                    Mark Resolved\r\n                                </Button>\r\n                                <Button\r\n                                    size=\"sm\"\r\n                                    variant={complaint.status === \"under-review\" ? \"default\" : \"outline\"}\r\n                                    onClick={() => handleStatusUpdate(\"under-review\")}\r\n                                    className=\"justify-start\"\r\n                                >\r\n                                    <AlertTriangle className=\"w-4 h-4 mr-2 text-amber-500\" />\r\n                                    Under Review\r\n                                </Button>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(admin)\\admin\\complaints\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(admin)\\admin\\dashboard\\page.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":25,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[815,818],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[815,818],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":144,"column":94,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":144,"endColumn":97,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7305,7308],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7305,7308],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(admin)\\admin\\settings\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(admin)\\layout.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setIsVerified' is assigned a value but never used.","line":15,"column":24,"nodeType":"Identifier","messageId":"unusedVar","endLine":15,"endColumn":37},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(admin)\\layout.tsx:28:9\n  26 |\n  27 |     useEffect(() => {\n> 28 |         setIsLoading(false);\n     |         ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  29 |     }, []);\n  30 |\n  31 |     if (isLoading) return null;","line":28,"column":9,"nodeType":null,"endLine":28,"endColumn":21}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport RoleGuard from \"@/components/auth/RoleGuard\";\r\nimport VerificationPending from \"@/components/auth/VerificationPending\";\r\nimport { LayoutDashboard, Users, FileText, Settings, LogOut, ShieldCheck } from \"lucide-react\";\r\nimport { logout, getUser, getOrganization } from \"@/lib/auth\";\r\nimport Link from \"next/link\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function AdminLayout({\r\n    children,\r\n}: {\r\n    children: React.ReactNode;\r\n}) {\r\n    const [isVerified, setIsVerified] = useState(() => {\r\n        // Initialize from storage to avoid effect update\r\n        if (typeof window !== 'undefined') {\r\n            const org = getOrganization();\r\n            return !(org && org.isVerified === false);\r\n        }\r\n        return true;\r\n    });\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    // Move get calls inside effect to avoid dependency issues or hydration mismatches\r\n    const user = getUser();\r\n\r\n    useEffect(() => {\r\n        setIsLoading(false);\r\n    }, []);\r\n\r\n    if (isLoading) return null;\r\n\r\n    // specialized check for client-side only\r\n    if (!isVerified) {\r\n        // We need to re-fetch org safely or pass it from state if we stored it\r\n        const org = getOrganization();\r\n        return <VerificationPending orgName={org?.name} />;\r\n    }\r\n\r\n    // Org Admin Navigation\r\n    const navigation = [\r\n        { name: \"Dashboard\", href: \"/admin/dashboard\", icon: LayoutDashboard },\r\n        { name: \"Complaints\", href: \"/admin/complaints\", icon: FileText },\r\n        { name: \"Committee\", href: \"/admin/committee\", icon: Users },\r\n        { name: \"Settings\", href: \"/admin/settings\", icon: Settings },\r\n    ];\r\n\r\n\r\n\r\n    return (\r\n        <RoleGuard allowedRoles={[\"admin\"]}>\r\n            <div className=\"min-h-screen bg-gray-50 flex\">\r\n                <aside className=\"w-64 bg-white border-r border-gray-200 fixed inset-y-0 z-30\">\r\n                    <div className=\"flex items-center h-16 px-6 border-b border-gray-100\">\r\n                        <ShieldCheck className=\"w-8 h-8 text-blue-600 mr-2\" />\r\n                        <span className=\"text-xl font-bold text-gray-900\">VoiSafe</span>\r\n                    </div>\r\n\r\n                    <div className=\"px-6 py-4\">\r\n                        <div className=\"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2\">\r\n                            {user?.college || \"Organization\"}\r\n                        </div>\r\n                        <div className=\"text-sm font-medium text-gray-900 truncate\">\r\n                            Admin Console\r\n                        </div>\r\n                    </div>\r\n\r\n                    <nav className=\"px-4 space-y-1 mt-2\">\r\n                        {navigation.map((item) => (\r\n                            <Link\r\n                                key={item.name}\r\n                                href={item.href}\r\n                                className=\"flex items-center space-x-3 px-4 py-3 text-gray-600 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-colors group\"\r\n                            >\r\n                                <item.icon className=\"w-5 h-5 group-hover:text-blue-600 transition-colors\" />\r\n                                <span className=\"font-medium\">{item.name}</span>\r\n                            </Link>\r\n                        ))}\r\n                    </nav>\r\n\r\n                    <div className=\"absolute bottom-0 w-full p-4 border-t border-gray-100\">\r\n                        <button\r\n                            onClick={() => logout()}\r\n                            className=\"flex items-center space-x-3 px-4 py-3 text-red-500 hover:bg-red-50 w-full rounded-lg transition-colors\"\r\n                        >\r\n                            <LogOut className=\"w-5 h-5\" />\r\n                            <span className=\"font-medium\">Logout</span>\r\n                        </button>\r\n                    </div>\r\n                </aside>\r\n\r\n                <main className=\"flex-1 ml-64 p-8\">\r\n                    {children}\r\n                </main>\r\n            </div>\r\n        </RoleGuard>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(auth)\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(auth)\\login\\page.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":53,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1776,1779],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1776,1779],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(auth)\\register\\page.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":62,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2083,2086],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2083,2086],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(committee)\\committee\\complaints\\[id]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(committee)\\committee\\workspace\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(committee)\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(dashboard)\\chat\\[trackingId]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(dashboard)\\dashboard\\page.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":27,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[909,912],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[909,912],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1158,1161],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1158,1161],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(dashboard)\\layout.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setUser' is assigned a value but never used.","line":27,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":27,"endColumn":25}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter, usePathname } from \"next/navigation\";\r\nimport RoleGuard from \"@/components/auth/RoleGuard\";\r\nimport Link from \"next/link\";\r\nimport {\r\n    LayoutDashboard,\r\n    FileText,\r\n    List,\r\n    LogOut,\r\n    Menu,\r\n    X\r\n} from \"lucide-react\";\r\n\r\nimport { getUser, logout } from \"@/lib/auth\";\r\nimport { User } from \"@/types\";\r\nimport { Button } from \"@/components/ui/Button\";\r\n\r\nexport default function DashboardLayout({\r\n    children,\r\n}: {\r\n    children: React.ReactNode;\r\n}) {\r\n    const router = useRouter();\r\n    const pathname = usePathname();\r\n    const [user, setUser] = useState<User | null>(() => {\r\n        if (typeof window !== 'undefined') return getUser();\r\n        return null;\r\n    });\r\n    const [isSidebarOpen, setIsSidebarOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // Hydration mismatch avoidance is handled by lazy init, but updates need effect if getUser changes?\r\n        // Actually getUser is synchronous from localStorage.\r\n        // We can keep effect for route changes if needed, but lazy init handles mount.\r\n    }, [router]);\r\n\r\n    const navigation = [\r\n        { name: \"Dashboard\", href: \"/dashboard\", icon: LayoutDashboard },\r\n        { name: \"Submit Complaint\", href: \"/submit-complaint\", icon: FileText },\r\n        { name: \"My Complaints\", href: \"/my-complaints\", icon: List },\r\n    ];\r\n\r\n    const handleLogout = () => {\r\n        logout();\r\n    };\r\n\r\n    return (\r\n        <RoleGuard allowedRoles={['student']}>\r\n            <div className=\"min-h-screen bg-gray-50\">\r\n                {/* ... rest of the layout ... */}\r\n\r\n                {/* Mobile sidebar backdrop */}\r\n                {isSidebarOpen && (\r\n                    <div\r\n                        className=\"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden\"\r\n                        onClick={() => setIsSidebarOpen(false)}\r\n                    />\r\n                )}\r\n\r\n                {/* Sidebar */}\r\n                <aside\r\n                    className={`fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-200 ease-in-out lg:translate-x-0 ${isSidebarOpen ? \"translate-x-0\" : \"-translate-x-full\"\r\n                        }`}\r\n                >\r\n                    <div className=\"flex flex-col h-full\">\r\n                        {/* Logo */}\r\n                        <div className=\"flex items-center justify-between h-16 px-6 border-b border-gray-200\">\r\n                            <h1 className=\"text-xl font-bold text-blue-600\">VoiSafe</h1>\r\n                            <button\r\n                                onClick={() => setIsSidebarOpen(false)}\r\n                                className=\"lg:hidden\"\r\n                            >\r\n                                <X className=\"w-6 h-6 text-gray-900\" />\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Navigation */}\r\n                        <nav className=\"flex-1 px-4 py-6 space-y-2\">\r\n                            {navigation.map((item) => {\r\n                                const isActive = pathname === item.href;\r\n                                return (\r\n                                    <Link\r\n                                        key={item.name}\r\n                                        href={item.href}\r\n                                        className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${isActive\r\n                                            ? \"bg-blue-50 text-blue-600 font-medium\"\r\n                                            : \"text-gray-700 hover:bg-gray-50\"\r\n                                            }`}\r\n                                        onClick={() => setIsSidebarOpen(false)}\r\n                                    >\r\n                                        <item.icon className=\"w-5 h-5\" />\r\n                                        {item.name}\r\n                                    </Link>\r\n                                );\r\n                            })}\r\n                        </nav>\r\n\r\n                        {/* User section */}\r\n                        <div className=\"p-4 border-t border-gray-200\">\r\n                            {user && (\r\n                                <div className=\"flex items-center gap-3 px-4 py-3 bg-gray-50 rounded-lg mb-2\">\r\n                                    <div className=\"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center\">\r\n                                        <span className=\"text-blue-600 font-semibold\">\r\n                                            {user.name?.charAt(0).toUpperCase()}\r\n                                        </span>\r\n                                    </div>\r\n                                    <div className=\"flex-1 min-w-0\">\r\n                                        <p className=\"text-sm font-medium text-gray-900 truncate\">\r\n                                            {user.name}\r\n                                        </p>\r\n                                        <p className=\"text-xs text-gray-500 truncate\">{user.email}</p>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                            <Button\r\n                                variant=\"outline\"\r\n                                className=\"w-full\"\r\n                                onClick={handleLogout}\r\n                            >\r\n                                <LogOut className=\"w-4 h-4\" />\r\n                                Logout\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </aside>\r\n\r\n                {/* Main content */}\r\n                <div className=\"lg:pl-64\">\r\n                    {/* Mobile header */}\r\n                    <header className=\"sticky top-0 z-30 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:hidden\">\r\n                        <button\r\n                            onClick={() => setIsSidebarOpen(true)}\r\n                            className=\"p-2 -ml-2 rounded-lg hover:bg-gray-100\"\r\n                        >\r\n                            <Menu className=\"w-6 h-6 text-gray-900\" />\r\n                        </button>\r\n                        <h1 className=\"ml-4 text-lg font-semibold text-gray-900\">VoiSafe</h1>\r\n                    </header>\r\n\r\n                    {/* Page content */}\r\n                    <main className=\"p-6 lg:p-8\">{children}</main>\r\n                </div>\r\n            </div>\r\n        </RoleGuard>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(dashboard)\\my-complaints\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(dashboard)\\submit-complaint\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":68,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":68,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2576,2579],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2576,2579],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":172,"column":95,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":172,"endColumn":98,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7829,7832],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7829,7832],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { toast } from \"sonner\";\r\nimport {\r\n    AlertCircle,\r\n    CheckCircle2,\r\n    ArrowRight,\r\n    ArrowLeft,\r\n    Shield,\r\n    Users,\r\n    BookOpen,\r\n    Building,\r\n    Briefcase,\r\n    HelpCircle\r\n} from \"lucide-react\";\r\n\r\nimport { complaintSchema, type ComplaintFormData } from \"@/schemas/complaint\";\r\nimport { complaintAPI } from \"@/lib/api\";\r\nimport { Button } from \"@/components/ui/Button\";\r\nimport { Input } from \"@/components/ui/Input\";\r\nimport { Textarea } from \"@/components/ui/Textarea\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/Card\";\r\n\r\nconst categories = [\r\n    { value: \"harassment\", label: \"Harassment\", icon: AlertCircle, color: \"text-red-600 bg-red-50\" },\r\n    { value: \"discrimination\", label: \"Discrimination\", icon: Users, color: \"text-orange-600 bg-orange-50\" },\r\n    { value: \"academic-misconduct\", label: \"Academic Misconduct\", icon: BookOpen, color: \"text-purple-600 bg-purple-50\" },\r\n    { value: \"infrastructure\", label: \"Infrastructure\", icon: Building, color: \"text-blue-600 bg-blue-50\" },\r\n    { value: \"safety\", label: \"Safety\", icon: Shield, color: \"text-green-600 bg-green-50\" },\r\n    { value: \"administration\", label: \"Administration\", icon: Briefcase, color: \"text-indigo-600 bg-indigo-50\" },\r\n    { value: \"other\", label: \"Other\", icon: HelpCircle, color: \"text-gray-600 bg-gray-50\" },\r\n];\r\n\r\nexport default function SubmitComplaintPage() {\r\n    const router = useRouter();\r\n    const [step, setStep] = useState(1);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [trackingId, setTrackingId] = useState<string | null>(null);\r\n\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        watch,\r\n        setValue,\r\n        formState: { errors },\r\n    } = useForm<ComplaintFormData>({\r\n        resolver: zodResolver(complaintSchema),\r\n    });\r\n\r\n    const selectedCategory = watch(\"category\");\r\n\r\n    const onSubmit = async (data: ComplaintFormData) => {\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            const response = await complaintAPI.fileComplaint(data);\r\n\r\n            if (response.data.success) {\r\n                const { trackingId: id } = response.data.data;\r\n                setTrackingId(id);\r\n                setStep(4); // Success step\r\n                toast.success(\"Complaint submitted successfully!\");\r\n            }\r\n        } catch (error: any) {\r\n            const message = error.response?.data?.message || \"Failed to submit complaint. Please try again.\";\r\n            toast.error(message);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const nextStep = () => setStep((prev) => Math.min(prev + 1, 3));\r\n    const prevStep = () => setStep((prev) => Math.max(prev - 1, 1));\r\n\r\n    return (\r\n        <div className=\"max-w-4xl mx-auto\">\r\n            <div className=\"mb-8\">\r\n                <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Submit Anonymous Complaint</h1>\r\n                <p className=\"text-gray-600\">\r\n                    Your identity is protected. Only use your tracking ID to check status.\r\n                </p>\r\n            </div>\r\n\r\n            {/* Progress Steps */}\r\n            {/* Progress Steps */}\r\n            <div className=\"mb-12\">\r\n                <div className=\"flex items-center\">\r\n                    {[1, 2, 3].map((num) => (\r\n                        <div key={num} className={`flex items-center ${num === 3 ? \"\" : \"flex-1\"}`}>\r\n                            <div className=\"relative flex flex-col items-center\">\r\n                                <div\r\n                                    className={`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors z-10 ${step >= num\r\n                                        ? \"bg-blue-600 border-blue-600 text-white\"\r\n                                        : \"bg-white border-gray-300 text-gray-500 font-medium\"\r\n                                        }`}\r\n                                >\r\n                                    {step > num ? <CheckCircle2 className=\"w-5 h-5\" /> : num}\r\n                                </div>\r\n                                <div className=\"absolute top-12 whitespace-nowrap text-xs font-bold text-gray-900\">\r\n                                    {num === 1 && \"Details\"}\r\n                                    {num === 2 && \"Category\"}\r\n                                    {num === 3 && \"Review\"}\r\n                                </div>\r\n                            </div>\r\n                            {num < 3 && (\r\n                                <div\r\n                                    className={`flex-1 h-1 mx-2 transition-colors ${step > num ? \"bg-blue-600\" : \"bg-gray-200\"\r\n                                        }`}\r\n                                />\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                {/* Step 1: Complaint Details */}\r\n                {step === 1 && (\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle>Complaint Details</CardTitle>\r\n                            <CardDescription>\r\n                                Provide a clear title and detailed description of your grievance\r\n                            </CardDescription>\r\n                        </CardHeader>\r\n                        <CardContent className=\"space-y-4\">\r\n                            <Input\r\n                                label=\"Title\"\r\n                                placeholder=\"Brief summary of your complaint\"\r\n                                error={errors.title?.message}\r\n                                {...register(\"title\")}\r\n                                required\r\n                            />\r\n\r\n                            <Textarea\r\n                                label=\"Description\"\r\n                                placeholder=\"Provide detailed information about the incident, including dates, locations, and any relevant context...\"\r\n                                rows={8}\r\n                                error={errors.description?.message}\r\n                                {...register(\"description\")}\r\n                                required\r\n                            />\r\n\r\n                            <div className=\"flex justify-end\">\r\n                                <Button type=\"button\" onClick={nextStep}>\r\n                                    Next <ArrowRight className=\"w-4 h-4 ml-2\" />\r\n                                </Button>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                )}\r\n\r\n                {/* Step 2: Category Selection */}\r\n                {step === 2 && (\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle>Select Category</CardTitle>\r\n                            <CardDescription>\r\n                                Choose the category that best describes your complaint\r\n                            </CardDescription>\r\n                        </CardHeader>\r\n                        <CardContent className=\"space-y-4\">\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                {categories.map((category) => (\r\n                                    <button\r\n                                        key={category.value}\r\n                                        type=\"button\"\r\n                                        onClick={() => setValue(\"category\", category.value as any)}\r\n                                        className={`flex items-center gap-4 p-4 rounded-lg border-2 transition-all ${selectedCategory === category.value\r\n                                            ? \"border-blue-600 bg-blue-50\"\r\n                                            : \"border-gray-200 hover:border-gray-300\"\r\n                                            }`}\r\n                                    >\r\n                                        <div className={`p-3 rounded-lg ${category.color}`}>\r\n                                            <category.icon className=\"w-6 h-6\" />\r\n                                        </div>\r\n                                        <div className=\"text-left\">\r\n                                            <p className=\"font-medium text-gray-900\">{category.label}</p>\r\n                                        </div>\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                            {errors.category && (\r\n                                <p className=\"text-sm text-red-600\">{errors.category.message}</p>\r\n                            )}\r\n\r\n                            <div className=\"flex justify-between\">\r\n                                <Button type=\"button\" variant=\"outline\" onClick={prevStep}>\r\n                                    <ArrowLeft className=\"w-4 h-4 mr-2\" /> Back\r\n                                </Button>\r\n                                <Button type=\"button\" onClick={nextStep}>\r\n                                    Next <ArrowRight className=\"w-4 h-4 ml-2\" />\r\n                                </Button>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                )}\r\n\r\n                {/* Step 3: Review & Submit */}\r\n                {step === 3 && (\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle>Review & Submit</CardTitle>\r\n                            <CardDescription>\r\n                                Please review your complaint before submitting\r\n                            </CardDescription>\r\n                        </CardHeader>\r\n                        <CardContent className=\"space-y-6\">\r\n                            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n                                <div className=\"flex items-start gap-3\">\r\n                                    <Shield className=\"w-5 h-5 text-blue-600 mt-0.5\" />\r\n                                    <div>\r\n                                        <h4 className=\"font-medium text-blue-900 mb-1\">Anonymous Submission</h4>\r\n                                        <p className=\"text-sm text-blue-700\">\r\n                                            Your identity will not be stored with this complaint. You will receive a unique tracking ID to check the status.\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"space-y-4\">\r\n                                <div>\r\n                                    <label className=\"text-sm font-medium text-gray-900\">Title</label>\r\n                                    <p className=\"mt-1 text-gray-900\">{watch(\"title\")}</p>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className=\"text-sm font-medium text-gray-900\">Category</label>\r\n                                    <p className=\"mt-1 text-gray-900\">\r\n                                        {categories.find((c) => c.value === selectedCategory)?.label}\r\n                                    </p>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className=\"text-sm font-medium text-gray-900\">Description</label>\r\n                                    <p className=\"mt-1 text-gray-900 whitespace-pre-wrap\">{watch(\"description\")}</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"flex justify-between\">\r\n                                <Button type=\"button\" variant=\"outline\" onClick={prevStep}>\r\n                                    <ArrowLeft className=\"w-4 h-4 mr-2\" /> Back\r\n                                </Button>\r\n                                <Button type=\"submit\" isLoading={isLoading}>\r\n                                    {isLoading ? \"Submitting...\" : \"Submit Complaint\"}\r\n                                </Button>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                )}\r\n\r\n                {/* Step 4: Success */}\r\n                {step === 4 && trackingId && (\r\n                    <Card>\r\n                        <CardContent className=\"py-12\">\r\n                            <div className=\"text-center space-y-6\">\r\n                                <div className=\"flex justify-center\">\r\n                                    <div className=\"p-4 bg-green-100 rounded-full\">\r\n                                        <CheckCircle2 className=\"w-16 h-16 text-green-600\" />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\r\n                                        Complaint Submitted Successfully!\r\n                                    </h2>\r\n                                    <p className=\"text-gray-600\">\r\n                                        Your complaint has been filed anonymously. Save your tracking ID below.\r\n                                    </p>\r\n                                </div>\r\n\r\n                                <div className=\"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-6\">\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                        Your Tracking ID\r\n                                    </label>\r\n                                    <div className=\"flex items-center justify-center gap-4\">\r\n                                        <code className=\"text-2xl font-mono font-bold text-blue-600\">\r\n                                            {trackingId}\r\n                                        </code>\r\n                                        <Button\r\n                                            type=\"button\"\r\n                                            size=\"sm\"\r\n                                            onClick={() => {\r\n                                                navigator.clipboard.writeText(trackingId);\r\n                                                toast.success(\"Tracking ID copied!\");\r\n                                            }}\r\n                                        >\r\n                                            Copy\r\n                                        </Button>\r\n                                    </div>\r\n                                    <p className=\"text-xs text-gray-500 mt-2\">\r\n                                        Save this ID to track your complaint status\r\n                                    </p>\r\n                                </div>\r\n\r\n                                <div className=\"flex gap-4 justify-center\">\r\n                                    <Button\r\n                                        type=\"button\"\r\n                                        variant=\"outline\"\r\n                                        onClick={() => router.push(\"/my-complaints\")}\r\n                                    >\r\n                                        View My Complaints\r\n                                    </Button>\r\n                                    <Button\r\n                                        type=\"button\"\r\n                                        onClick={() => router.push(`/track/${trackingId}`)}\r\n                                    >\r\n                                        Track This Complaint\r\n                                    </Button>\r\n                                </div>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                )}\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(dashboard)\\track\\[trackingId]\\page.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":36,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":36,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1179,1182],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1179,1182],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(super-admin)\\layout.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Users' is defined but never used.","line":4,"column":38,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":43,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Users"},"fix":{"range":[106,113],"text":""},"desc":"Remove unused variable \"Users\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport RoleGuard from \"@/components/auth/RoleGuard\";\r\nimport { LayoutDashboard, Building2, Users, Settings, LogOut } from \"lucide-react\";\r\nimport { logout } from \"@/lib/auth\";\r\n\r\nexport default function SuperAdminLayout({\r\n    children,\r\n}: {\r\n    children: React.ReactNode;\r\n}) {\r\n    const navigation = [\r\n        { name: \"Platform Overview\", href: \"/super-admin\", icon: LayoutDashboard },\r\n        { name: \"Organizations\", href: \"/super-admin/organizations\", icon: Building2 },\r\n        { name: \"System Logs\", href: \"/super-admin/logs\", icon: Settings },\r\n    ];\r\n\r\n    return (\r\n        <RoleGuard allowedRoles={[\"super-admin\"]}>\r\n            <div className=\"min-h-screen bg-gray-100 flex\">\r\n                {/* Sidebar would go here - simplified for this file */}\r\n                <aside className=\"w-64 bg-slate-900 text-white fixed inset-y-0\">\r\n                    <div className=\"p-6\">\r\n                        <h1 className=\"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent\">\r\n                            Admin Console\r\n                        </h1>\r\n                        <p className=\"text-xs text-slate-400 mt-1\">Super Admin Access</p>\r\n                    </div>\r\n\r\n                    <nav className=\"px-4 space-y-2 mt-4\">\r\n                        {navigation.map((item) => (\r\n                            <a\r\n                                key={item.name}\r\n                                href={item.href}\r\n                                className=\"flex items-center space-x-3 px-4 py-3 text-slate-300 hover:bg-slate-800 rounded-lg transition-colors\"\r\n                            >\r\n                                <item.icon className=\"w-5 h-5\" />\r\n                                <span>{item.name}</span>\r\n                            </a>\r\n                        ))}\r\n\r\n                        <button\r\n                            onClick={() => logout()}\r\n                            className=\"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-slate-800 rounded-lg transition-colors mt-8\"\r\n                        >\r\n                            <LogOut className=\"w-5 h-5\" />\r\n                            <span>Logout</span>\r\n                        </button>\r\n                    </nav>\r\n                </aside>\r\n\r\n                <main className=\"flex-1 ml-64 p-8\">\r\n                    {children}\r\n                </main>\r\n            </div>\r\n        </RoleGuard>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(super-admin)\\super-admin\\logs\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(super-admin)\\super-admin\\organizations\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CheckCircle' is defined but never used.","line":4,"column":21,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":32,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CheckCircle"},"fix":{"range":[70,83],"text":""},"desc":"Remove unused variable \"CheckCircle\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'XCircle' is defined but never used.","line":4,"column":34,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":41,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"XCircle"},"fix":{"range":[83,92],"text":""},"desc":"Remove unused variable \"XCircle\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardTitle' is defined but never used.","line":6,"column":41,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":50,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CardTitle"},"fix":{"range":[235,246],"text":""},"desc":"Remove unused variable \"CardTitle\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Building2, CheckCircle, XCircle, MoreVertical, Search, Filter } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/Button\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/Card\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport default function SuperAdminOrganizationsPage() {\r\n    // Mock Data\r\n    const [organizations, setOrganizations] = useState([\r\n        { id: 1, name: \"St. Xavier's College\", email: \"admin@xaviers.edu\", status: \"Verified\", date: \"2024-03-10\" },\r\n        { id: 2, name: \"City Engineering Institute\", email: \"principal@cityeng.edu\", status: \"Pending\", date: \"2024-03-12\" },\r\n        { id: 3, name: \"Global Management School\", email: \"info@globalmgmt.edu\", status: \"Rejected\", date: \"2024-03-08\" },\r\n    ]);\r\n\r\n    const handleApprove = (id: number) => {\r\n        setOrganizations(orgs => orgs.map(org =>\r\n            org.id === id ? { ...org, status: \"Verified\" } : org\r\n        ));\r\n        toast.success(\"Organization approved successfully\");\r\n    };\r\n\r\n    const handleReject = (id: number) => {\r\n        setOrganizations(orgs => orgs.map(org =>\r\n            org.id === id ? { ...org, status: \"Rejected\" } : org\r\n        ));\r\n        toast.error(\"Organization application rejected\");\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                    <h1 className=\"text-2xl font-bold text-slate-800\">Organizations</h1>\r\n                    <p className=\"text-slate-500\">Manage registered institutions and approval requests</p>\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                    <Button variant=\"outline\">\r\n                        <Filter className=\"w-4 h-4 mr-2\" />\r\n                        Filter\r\n                    </Button>\r\n                    <Button>\r\n                        <Building2 className=\"w-4 h-4 mr-2\" />\r\n                        Add Organization\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n\r\n            <Card>\r\n                <CardHeader className=\"border-b border-slate-100\">\r\n                    <div className=\"relative\">\r\n                        <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4\" />\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Search organizations...\"\r\n                            className=\"pl-10 pr-4 py-2 border border-slate-200 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                        />\r\n                    </div>\r\n                </CardHeader>\r\n                <CardContent className=\"p-0\">\r\n                    <table className=\"w-full text-left text-sm\">\r\n                        <thead className=\"bg-slate-50 text-slate-500 font-medium\">\r\n                            <tr>\r\n                                <th className=\"px-6 py-4\">Institution Name</th>\r\n                                <th className=\"px-6 py-4\">Contact Email</th>\r\n                                <th className=\"px-6 py-4\">Registration Date</th>\r\n                                <th className=\"px-6 py-4\">Status</th>\r\n                                <th className=\"px-6 py-4 text-right\">Actions</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-slate-100\">\r\n                            {organizations.map((org) => (\r\n                                <tr key={org.id} className=\"hover:bg-slate-50 transition-colors\">\r\n                                    <td className=\"px-6 py-4 font-medium text-slate-900\">{org.name}</td>\r\n                                    <td className=\"px-6 py-4 text-slate-600\">{org.email}</td>\r\n                                    <td className=\"px-6 py-4 text-slate-500\">{org.date}</td>\r\n                                    <td className=\"px-6 py-4\">\r\n                                        <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border\r\n                                            ${org.status === 'Verified' ? 'bg-green-50 text-green-700 border-green-200' :\r\n                                                org.status === 'Pending' ? 'bg-amber-50 text-amber-700 border-amber-200' :\r\n                                                    'bg-red-50 text-red-700 border-red-200'}`}>\r\n                                            {org.status}\r\n                                        </span>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 text-right\">\r\n                                        {org.status === 'Pending' && (\r\n                                            <div className=\"flex justify-end gap-2\">\r\n                                                <Button size=\"sm\" variant=\"ghost\" className=\"text-green-600 hover:text-green-700 hover:bg-green-50\" onClick={() => handleApprove(org.id)}>\r\n                                                    Approve\r\n                                                </Button>\r\n                                                <Button size=\"sm\" variant=\"ghost\" className=\"text-red-600 hover:text-red-700 hover:bg-red-50\" onClick={() => handleReject(org.id)}>\r\n                                                    Reject\r\n                                                </Button>\r\n                                            </div>\r\n                                        )}\r\n                                        {org.status !== 'Pending' && (\r\n                                            <Button size=\"sm\" variant=\"ghost\" className=\"text-slate-400\">\r\n                                                <MoreVertical className=\"w-4 h-4\" />\r\n                                            </Button>\r\n                                        )}\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\(super-admin)\\super-admin\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\components\\auth\\RoleGuard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'User' is defined but never used.","line":6,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":14,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"User"},"fix":{"range":[165,196],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\components\\auth\\RoleGuard.tsx:27:13\n  25 |         const user = getUser();\n  26 |         if (user && allowedRoles.includes(user.role)) {\n> 27 |             setIsAuthorized(true);\n     |             ^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  28 |         } else {\n  29 |             // Redirect to appropriate dashboard based on actual role\n  30 |             if (user?.role === 'admin') router.push('/admin/dashboard');","line":27,"column":13,"nodeType":null,"endLine":27,"endColumn":28}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { getUser, isAuthenticated } from \"@/lib/auth\";\r\nimport { User } from \"@/types\";\r\n\r\ninterface RoleGuardProps {\r\n    children: React.ReactNode;\r\n    allowedRoles: string[];\r\n}\r\n\r\nexport default function RoleGuard({ children, allowedRoles }: RoleGuardProps) {\r\n    const router = useRouter();\r\n    const [isAuthorized, setIsAuthorized] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // 1. Check Authentication\r\n        if (!isAuthenticated()) {\r\n            router.push(\"/login\");\r\n            return;\r\n        }\r\n\r\n        // 2. Check Role\r\n        const user = getUser();\r\n        if (user && allowedRoles.includes(user.role)) {\r\n            setIsAuthorized(true);\r\n        } else {\r\n            // Redirect to appropriate dashboard based on actual role\r\n            if (user?.role === 'admin') router.push('/admin/dashboard');\r\n            else if (user?.role === 'super-admin') router.push('/super-admin');\r\n            else if (user?.role === 'committee-admin') router.push('/committee/workspace');\r\n            else router.push('/dashboard'); // Student\r\n        }\r\n    }, [router, allowedRoles]);\r\n\r\n    if (!isAuthorized) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n                <div className=\"flex flex-col items-center\">\r\n                    <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\r\n                    <p className=\"mt-4 text-gray-500\">Verifying access...</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return <>{children}</>;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\components\\auth\\VerificationPending.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":31,"column":71,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1692,1741],"text":"Our team is reviewing your institution&apos;s details."},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1692,1741],"text":"Our team is reviewing your institution&lsquo;s details."},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1692,1741],"text":"Our team is reviewing your institution&#39;s details."},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1692,1741],"text":"Our team is reviewing your institution&rsquo;s details."},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { ShieldAlert, Mail } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/Button\";\r\n\r\ninterface VerificationPendingProps {\r\n    orgName?: string;\r\n}\r\n\r\nexport default function VerificationPending({ orgName }: VerificationPendingProps) {\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 px-4\">\r\n            <div className=\"max-w-md w-full bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden\">\r\n                <div className=\"bg-amber-50 p-6 flex justify-center border-b border-amber-100\">\r\n                    <div className=\"p-4 bg-amber-100 rounded-full\">\r\n                        <ShieldAlert className=\"w-12 h-12 text-amber-600\" />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"p-8 text-center\">\r\n                    <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Verification in Progress</h2>\r\n                    <p className=\"text-gray-600 mb-6\">\r\n                        Access to <span className=\"font-semibold text-gray-900\">{orgName || \"your organization\"}</span> is currently pending approval from the VoiSafe administration.\r\n                    </p>\r\n\r\n                    <div className=\"bg-gray-50 rounded-lg p-4 mb-6 text-left text-sm text-gray-600 border border-gray-200\">\r\n                        <p className=\"font-semibold text-gray-800 mb-1\">What this means:</p>\r\n                        <ul className=\"list-disc list-inside space-y-1\">\r\n                            <li>You cannot access the admin dashboard yet.</li>\r\n                            <li>Students cannot submit complaints.</li>\r\n                            <li>Our team is reviewing your institution's details.</li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <Button\r\n                        className=\"w-full\"\r\n                        onClick={() => window.location.href = \"mailto:support@voisafe.com\"}\r\n                    >\r\n                        <Mail className=\"w-4 h-4 mr-2\" />\r\n                        Contact Support\r\n                    </Button>\r\n\r\n                    <button\r\n                        onClick={() => {\r\n                            localStorage.clear();\r\n                            window.location.href = '/login';\r\n                        }}\r\n                        className=\"mt-4 text-sm text-gray-500 hover:text-gray-700 underline\"\r\n                    >\r\n                        Sign Out\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\components\\ui\\Button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\components\\ui\\Card.tsx","messages":[{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An interface declaring no members is equivalent to its supertype.","line":4,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterfaceWithSuper","endLine":4,"endColumn":27,"suggestions":[{"messageId":"replaceEmptyInterfaceWithSuper","fix":{"range":[77,145],"text":"type CardProps = React.HTMLAttributes<HTMLDivElement>"},"desc":"Replace empty interface with a type alias."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport interface CardProps extends React.HTMLAttributes<HTMLDivElement> { }\r\n\r\nconst Card = React.forwardRef<HTMLDivElement, CardProps>(\r\n    ({ className, ...props }, ref) => (\r\n        <div\r\n            ref={ref}\r\n            className={cn(\r\n                \"rounded-xl border border-gray-200 bg-white shadow-sm\",\r\n                className\r\n            )}\r\n            {...props}\r\n        />\r\n    )\r\n);\r\nCard.displayName = \"Card\";\r\n\r\nconst CardHeader = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n        {...props}\r\n    />\r\n));\r\nCardHeader.displayName = \"CardHeader\";\r\n\r\nconst CardTitle = React.forwardRef<\r\n    HTMLParagraphElement,\r\n    React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n    <h3\r\n        ref={ref}\r\n        className={cn(\"text-2xl font-semibold leading-none tracking-tight text-gray-900\", className)}\r\n        {...props}\r\n    />\r\n));\r\nCardTitle.displayName = \"CardTitle\";\r\n\r\nconst CardDescription = React.forwardRef<\r\n    HTMLParagraphElement,\r\n    React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n    <p\r\n        ref={ref}\r\n        className={cn(\"text-sm text-gray-600\", className)}\r\n        {...props}\r\n    />\r\n));\r\nCardDescription.displayName = \"CardDescription\";\r\n\r\nconst CardContent = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n));\r\nCardContent.displayName = \"CardContent\";\r\n\r\nconst CardFooter = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn(\"flex items-center p-6 pt-0\", className)}\r\n        {...props}\r\n    />\r\n));\r\nCardFooter.displayName = \"CardFooter\";\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\components\\ui\\Input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\components\\ui\\Textarea.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\lib\\api.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":72,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1735,1738],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1735,1738],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":84,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":84,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1951,1954],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1951,1954],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":94,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2247,2250],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2247,2250],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import axios from \"axios\";\r\n\r\n/**\r\n * API CLIENT FOR VOISAFE BACKEND\r\n * \r\n * Features:\r\n * - Automatic JWT token attachment\r\n * - Request/response interceptors\r\n * - Error handling\r\n */\r\n\r\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000/api\";\r\n\r\n// Create axios instance\r\nconst api = axios.create({\r\n    baseURL: API_URL,\r\n    headers: {\r\n        \"Content-Type\": \"application/json\",\r\n    },\r\n    withCredentials: true, // Send cookies with requests\r\n});\r\n\r\n// Request interceptor - Add JWT token\r\napi.interceptors.request.use(\r\n    (config) => {\r\n        // Get token from localStorage\r\n        const token = localStorage.getItem(\"token\");\r\n\r\n        if (token) {\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n\r\n        return config;\r\n    },\r\n    (error) => {\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\n// Response interceptor - Handle errors\r\napi.interceptors.response.use(\r\n    (response) => {\r\n        return response;\r\n    },\r\n    (error) => {\r\n        // Handle 401 Unauthorized - redirect to login\r\n        if (error.response?.status === 401) {\r\n            localStorage.removeItem(\"token\");\r\n            localStorage.removeItem(\"user\");\r\n\r\n            // Only redirect if not already on auth pages\r\n            if (typeof window !== \"undefined\" && !window.location.pathname.startsWith(\"/login\")) {\r\n                window.location.href = \"/login\";\r\n            }\r\n        }\r\n\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\nexport default api;\r\n\r\n// API helper functions\r\n\r\n/**\r\n * Authentication\r\n */\r\nexport const authAPI = {\r\n    login: (email: string, password: string) =>\r\n        api.post(\"/auth/login\", { email, password }),\r\n\r\n    register: (data: any) =>\r\n        api.post(\"/auth/register\", data),\r\n\r\n    getMe: () =>\r\n        api.get(\"/auth/me\"),\r\n};\r\n\r\n/**\r\n * Complaints\r\n */\r\nexport const complaintAPI = {\r\n    // Student endpoints\r\n    fileComplaint: (data: any) =>\r\n        api.post(\"/complaints\", data),\r\n\r\n    getMyComplaints: () =>\r\n        api.get(\"/complaints/my-complaints\"),\r\n\r\n    trackComplaint: (trackingId: string) =>\r\n        api.get(`/complaints/track/${trackingId}`),\r\n\r\n    // Admin endpoints (if needed)\r\n    getAllComplaints: (params?: any) =>\r\n        api.get(\"/complaints\", { params }),\r\n\r\n    getComplaintById: (id: string) =>\r\n        api.get(`/complaints/${id}`),\r\n\r\n    updateStatus: (id: string, status: string, comment?: string) =>\r\n        api.put(`/complaints/${id}/status`, { status, comment }),\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\lib\\auth.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":12,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[231,234],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[231,234],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":28,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[667,670],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[667,670],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { User } from \"@/types\";\r\n\r\n/**\r\n * AUTH HELPER FUNCTIONS\r\n * \r\n * Client-side authentication utilities\r\n */\r\n\r\n/**\r\n * Save auth data to localStorage\r\n */\r\nexport function saveAuth(token: string, user: User, organization?: any): void {\r\n    if (typeof window === \"undefined\") return;\r\n\r\n    localStorage.setItem(\"token\", token);\r\n    localStorage.setItem(\"user\", JSON.stringify(user));\r\n\r\n    if (organization) {\r\n        localStorage.setItem(\"organization\", JSON.stringify(organization));\r\n    } else {\r\n        localStorage.removeItem(\"organization\");\r\n    }\r\n}\r\n\r\n/**\r\n * Get current organization from localStorage\r\n */\r\nexport function getOrganization(): any | null {\r\n    if (typeof window === \"undefined\") return null;\r\n\r\n    const orgStr = localStorage.getItem(\"organization\");\r\n    if (!orgStr) return null;\r\n\r\n    try {\r\n        return JSON.parse(orgStr);\r\n    } catch {\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Get current user from localStorage\r\n */\r\nexport function getUser(): User | null {\r\n    if (typeof window === \"undefined\") return null;\r\n\r\n    const userStr = localStorage.getItem(\"user\");\r\n    if (!userStr) return null;\r\n\r\n    try {\r\n        return JSON.parse(userStr);\r\n    } catch {\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Get auth token from localStorage\r\n */\r\nexport function getToken(): string | null {\r\n    if (typeof window === \"undefined\") return null;\r\n\r\n    return localStorage.getItem(\"token\");\r\n}\r\n\r\n/**\r\n * Check if user is authenticated\r\n */\r\nexport function isAuthenticated(): boolean {\r\n    return !!getToken();\r\n}\r\n\r\n/**\r\n * Logout user\r\n */\r\nexport function logout(): void {\r\n    if (typeof window === \"undefined\") return;\r\n\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"organization\");\r\n\r\n    // Redirect to login\r\n    window.location.href = \"/login\";\r\n}\r\n\r\n/**\r\n * Check if user has specific role\r\n */\r\nexport function hasRole(role: string | string[]): boolean {\r\n    const user = getUser();\r\n    if (!user) return false;\r\n\r\n    if (Array.isArray(role)) {\r\n        return role.includes(user.role);\r\n    }\r\n\r\n    return user.role === role;\r\n}\r\n\r\n/**\r\n * Check if user is student\r\n */\r\nexport function isStudent(): boolean {\r\n    return hasRole(\"student\");\r\n}\r\n\r\n/**\r\n * Check if user is admin\r\n */\r\nexport function isAdmin(): boolean {\r\n    return hasRole([\"admin\", \"committee-admin\"]);\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\lib\\socket.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":118,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":118,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2544,2547],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2544,2547],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":122,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":122,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2662,2665],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2662,2665],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":126,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":126,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2779,2782],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2779,2782],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":130,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":130,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2891,2894],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2891,2894],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":134,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":134,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3001,3004],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3001,3004],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":138,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":138,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3106,3109],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3106,3109],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":143,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":143,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3237,3240],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3237,3240],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { io, Socket } from \"socket.io-client\";\r\n\r\n/**\r\n * SOCKET.IO CLIENT FOR ANONYMOUS CHAT\r\n * \r\n * Features:\r\n * - JWT authentication\r\n * - Automatic reconnection\r\n * - Event handlers for chat\r\n */\r\n\r\nconst SOCKET_URL = process.env.NEXT_PUBLIC_SOCKET_URL || \"http://localhost:5000\";\r\n\r\nlet socket: Socket | null = null;\r\n\r\n/**\r\n * Initialize Socket.io connection\r\n */\r\nexport const initializeSocket = (): Socket => {\r\n    if (socket && socket.connected) {\r\n        return socket;\r\n    }\r\n\r\n    // Get token from localStorage\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    if (!token) {\r\n        throw new Error(\"No authentication token found\");\r\n    }\r\n\r\n    // Create socket connection with auth\r\n    socket = io(SOCKET_URL, {\r\n        auth: {\r\n            token,\r\n        },\r\n        reconnection: true,\r\n        reconnectionAttempts: 5,\r\n        reconnectionDelay: 1000,\r\n    });\r\n\r\n    // Connection event handlers\r\n    socket.on(\"connect\", () => {\r\n        console.log(\"✅ Socket connected:\", socket?.id);\r\n    });\r\n\r\n    socket.on(\"disconnect\", (reason) => {\r\n        console.log(\"🔌 Socket disconnected:\", reason);\r\n    });\r\n\r\n    socket.on(\"connect_error\", (error) => {\r\n        console.error(\"❌ Socket connection error:\", error);\r\n    });\r\n\r\n    return socket;\r\n};\r\n\r\n/**\r\n * Get existing socket instance\r\n */\r\nexport const getSocket = (): Socket | null => {\r\n    return socket;\r\n};\r\n\r\n/**\r\n * Disconnect socket\r\n */\r\nexport const disconnectSocket = (): void => {\r\n    if (socket) {\r\n        socket.disconnect();\r\n        socket = null;\r\n    }\r\n};\r\n\r\n/**\r\n * Join chat room for a complaint\r\n */\r\nexport const joinChatRoom = (trackingId: string): void => {\r\n    if (!socket) {\r\n        throw new Error(\"Socket not initialized\");\r\n    }\r\n\r\n    socket.emit(\"join_chat\", { trackingId });\r\n};\r\n\r\n/**\r\n * Leave chat room\r\n */\r\nexport const leaveChatRoom = (trackingId: string): void => {\r\n    if (!socket) return;\r\n\r\n    socket.emit(\"leave_chat\", { trackingId });\r\n};\r\n\r\n/**\r\n * Send message\r\n */\r\nexport const sendMessage = (trackingId: string, message: string): void => {\r\n    if (!socket) {\r\n        throw new Error(\"Socket not initialized\");\r\n    }\r\n\r\n    socket.emit(\"send_message\", { trackingId, message });\r\n};\r\n\r\n/**\r\n * Send typing indicator\r\n */\r\nexport const sendTyping = (trackingId: string, isTyping: boolean): void => {\r\n    if (!socket) return;\r\n\r\n    socket.emit(\"typing\", { trackingId, isTyping });\r\n};\r\n\r\n/**\r\n * Socket event listeners\r\n */\r\nexport const socketEvents = {\r\n    onChatHistory: (callback: (data: any) => void) => {\r\n        socket?.on(\"chat_history\", callback);\r\n    },\r\n\r\n    onMessageReceived: (callback: (data: any) => void) => {\r\n        socket?.on(\"message_received\", callback);\r\n    },\r\n\r\n    onUserTyping: (callback: (data: any) => void) => {\r\n        socket?.on(\"user_typing\", callback);\r\n    },\r\n\r\n    onUserJoined: (callback: (data: any) => void) => {\r\n        socket?.on(\"user_joined\", callback);\r\n    },\r\n\r\n    onUserLeft: (callback: (data: any) => void) => {\r\n        socket?.on(\"user_left\", callback);\r\n    },\r\n\r\n    onError: (callback: (data: any) => void) => {\r\n        socket?.on(\"error\", callback);\r\n    },\r\n\r\n    // Remove listeners\r\n    off: (event: string, callback?: any) => {\r\n        socket?.off(event, callback);\r\n    },\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\middleware.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'pathname' is assigned a value but never used.","line":13,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":13,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\";\r\nimport type { NextRequest } from \"next/server\";\r\n\r\n/**\r\n * MIDDLEWARE FOR ROUTE PROTECTION\r\n * \r\n * Note: Since we're using localStorage for tokens (client-side),\r\n * we can't validate auth in middleware (server-side).\r\n * Auth protection is handled by client-side redirects in pages.\r\n */\r\n\r\nexport function middleware(request: NextRequest) {\r\n    const { pathname } = request.nextUrl;\r\n\r\n    // Allow all routes - auth is handled client-side\r\n    // This is because tokens are in localStorage, not cookies\r\n    return NextResponse.next();\r\n}\r\n\r\n// Configure which routes to run middleware on\r\nexport const config = {\r\n    matcher: [\r\n        /*\r\n         * Match all request paths except for the ones starting with:\r\n         * - api (API routes)\r\n         * - _next/static (static files)\r\n         * - _next/image (image optimization files)\r\n         * - favicon.ico (favicon file)\r\n         */\r\n        \"/((?!api|_next/static|_next/image|favicon.ico).*)\",\r\n    ],\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\schemas\\complaint.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\karan\\Desktop\\Product\\voisafe\\web\\types\\index.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":115,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":115,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2523,2526],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2523,2526],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * TYPESCRIPT TYPES FOR VOISAFE FRONTEND\r\n */\r\n\r\nexport interface User {\r\n    _id: string;\r\n    name: string;\r\n    email: string;\r\n    role: \"student\" | \"admin\" | \"committee-admin\" | \"super-admin\";\r\n    college: string;\r\n    studentId?: string;\r\n    department?: string;\r\n    year?: number;\r\n    isActive: boolean;\r\n    isVerified: boolean;\r\n    createdAt: string;\r\n    lastLogin?: string;\r\n}\r\n\r\nexport interface Complaint {\r\n    _id: string;\r\n    trackingId: string;\r\n    title: string;\r\n    description: string;\r\n    category: ComplaintCategory;\r\n    priority: \"low\" | \"medium\" | \"high\" | \"urgent\";\r\n    status: ComplaintStatus;\r\n    college: string;\r\n    attachments?: Attachment[];\r\n    adminNotes?: AdminNote[];\r\n    statusHistory: StatusHistory[];\r\n    identityRevealed: boolean;\r\n    identityRevealedBy?: string;\r\n    identityRevealedAt?: string;\r\n    createdAt: string;\r\n    updatedAt: string;\r\n}\r\n\r\nexport type ComplaintCategory =\r\n    | \"harassment\"\r\n    | \"discrimination\"\r\n    | \"academic-misconduct\"\r\n    | \"infrastructure\"\r\n    | \"safety\"\r\n    | \"administration\"\r\n    | \"other\";\r\n\r\nexport type ComplaintStatus =\r\n    | \"pending\"\r\n    | \"under-review\"\r\n    | \"in-progress\"\r\n    | \"resolved\"\r\n    | \"closed\";\r\n\r\nexport interface Attachment {\r\n    filename: string;\r\n    url: string;\r\n    uploadedAt: string;\r\n}\r\n\r\nexport interface AdminNote {\r\n    note: string;\r\n    addedBy: string;\r\n    addedAt: string;\r\n}\r\n\r\nexport interface StatusHistory {\r\n    status: ComplaintStatus;\r\n    changedBy: string;\r\n    changedAt: string;\r\n    comment?: string;\r\n}\r\n\r\nexport interface ChatMessage {\r\n    _id: string;\r\n    trackingId: string;\r\n    senderRole: \"student\" | \"admin\" | \"committee-admin\" | \"system\";\r\n    adminId?: string;\r\n    message: string;\r\n    messageType: \"text\" | \"file\" | \"system\";\r\n    attachment?: {\r\n        filename: string;\r\n        url: string;\r\n        fileType: string;\r\n        fileSize: number;\r\n    };\r\n    isRead: boolean;\r\n    readAt?: string;\r\n    createdAt: string;\r\n    senderName?: string; // Only for admin messages\r\n}\r\n\r\nexport interface ComplaintFormData {\r\n    title: string;\r\n    description: string;\r\n    category: ComplaintCategory;\r\n}\r\n\r\nexport interface LoginFormData {\r\n    email: string;\r\n    password: string;\r\n}\r\n\r\nexport interface RegisterFormData {\r\n    name: string;\r\n    email: string;\r\n    password: string;\r\n    confirmPassword: string;\r\n    college: string;\r\n    studentId: string;\r\n    department: string;\r\n    year: number;\r\n}\r\n\r\nexport interface ApiResponse<T = any> {\r\n    success: boolean;\r\n    message?: string;\r\n    data?: T;\r\n    count?: number;\r\n}\r\n\r\nexport interface ApiError {\r\n    success: false;\r\n    message: string;\r\n    error?: string;\r\n}\r\n","usedDeprecatedRules":[]}]